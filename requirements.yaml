name: r4w
title: R4W - Rust for Waveforms
description: Platform for developing, testing, and deploying SDR waveforms in Rust
requirements:
- id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
  spec_id: MESH-001
  prefix_override: MESH
  title: Meshtastic Protocol Support
  description: Implement Meshtastic protocol for LoRa-based mesh networking with managed flood routing, CSMA/CA channel access, and interoperability with existing Meshtastic network (40,000+ nodes). This enables R4W to participate in the global off-grid mesh communication network.
  status: InProgress
  priority: High
  owner: joe
  feature: 1-Mesh Networking
  created_at: 2025-12-30T18:31:20.703791380Z
  modified_at: 2025-12-30T18:54:37.847875523Z
  req_type: Epic
  tags:
  - mesh
  - protocol
  - meshtastic
  - lora
  history:
  - id: b87df4b0-b8f6-47cc-bf04-604b5362c7fc
    author: CLI
    timestamp: 2025-12-30T18:54:37.847874929Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: InProgress
- id: b1d0788a-b7fe-47e9-b2cc-89fb7aa0f77d
  spec_id: MESH-002
  prefix_override: MESH
  title: Meshtastic Physical Layer - LoRa Symbol Encoding
  description: 'Convert packet data to LoRa symbols using Meshtastic-compatible parameters: 16-symbol preamble (longer than minimum 8 for SX126x sleep compatibility), sync word 0x2B for Meshtastic network identification, and standard LoRa modulation with configurable SF/BW/CR.'
  status: Completed
  priority: High
  owner: joe
  feature: 2-Mesh Networking
  created_at: 2025-12-30T18:31:47.337041128Z
  modified_at: 2025-12-30T20:09:32.375521722Z
  req_type: Functional
  tags:
  - lora
  - encoding
  - physical-layer
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:31:47.337058767Z
  comments:
  - id: 5f839455-c17a-4582-a38a-4c94af795fcc
    author: joe
    content: Implemented via LoRaMeshPhy in crates/r4w-core/src/mesh/lora_mesh.rs - wraps existing LoRa waveform
    created_at: 2025-12-30T20:09:32.375514922Z
    modified_at: 2025-12-30T20:09:32.375514922Z
  history:
  - id: 3ff4e2d4-d62c-4f15-adc2-10febfbb7f56
    author: CLI
    timestamp: 2025-12-30T20:09:32.365271714Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 134a6905-0f5d-44dc-8bfe-5d7b5b515bb2
  spec_id: MESH-003
  prefix_override: MESH
  title: Meshtastic Physical Layer - Channel Activity Detection (CAD)
  description: Implement Channel Activity Detection before transmission to support CSMA/CA. Use LoRa CAD mode to detect ongoing transmissions. If channel is busy, defer transmission and enter backoff procedure.
  status: Completed
  priority: High
  owner: joe
  feature: 3-Mesh Networking
  created_at: 2025-12-30T18:31:56.998874497Z
  modified_at: 2025-12-30T20:09:32.379972839Z
  req_type: Functional
  tags:
  - csma
  - cad
  - physical-layer
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:31:56.998890864Z
  comments:
  - id: 241f4458-7c40-483c-a6f7-c124264b5cdb
    author: joe
    content: Implemented via signal power estimation in LoRaMeshPhy.process_samples()
    created_at: 2025-12-30T20:09:32.379969524Z
    modified_at: 2025-12-30T20:09:32.379969524Z
  history:
  - id: 619da37d-f488-406a-b282-27594025b386
    author: CLI
    timestamp: 2025-12-30T20:09:32.370959864Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 9b438fd3-b7c5-47ed-af6a-be2211b9b214
  spec_id: MESH-004
  prefix_override: MESH
  title: Meshtastic Physical Layer - Regional Frequency Configuration
  description: 'Support Meshtastic regional frequency plans for ISM bands: US (902-928 MHz), EU (863-870 MHz), CN (470-510 MHz), JP (920-925 MHz), ANZ (915-928 MHz), KR (920-923 MHz), TW (920-925 MHz), IN (865-867 MHz). Include duty cycle limits where required by regulation.'
  status: Completed
  priority: High
  owner: joe
  feature: 4-Mesh Networking
  created_at: 2025-12-30T18:32:06.357251909Z
  modified_at: 2025-12-30T18:54:27.733209443Z
  req_type: Functional
  tags:
  - regulatory
  - frequency
  - physical-layer
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:32:06.357269585Z
  history:
  - id: bd241115-5daa-47f2-a046-b572d8fe922b
    author: CLI
    timestamp: 2025-12-30T18:54:27.733209096Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 81817744-f3d2-467d-af15-101d1403d83a
  spec_id: MESH-005
  prefix_override: MESH
  title: Meshtastic MAC Layer - CSMA/CA with Contention Window
  description: 'Implement Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA). Before transmission: 1) Perform CAD, 2) If busy, select random backoff from contention window (CW), 3) CW size scales with channel utilization - larger CW for higher utilization to reduce collision probability.'
  status: Completed
  priority: High
  owner: joe
  feature: 5-Mesh Networking
  created_at: 2025-12-30T18:32:22.922084387Z
  modified_at: 2025-12-30T18:54:51.011274770Z
  req_type: Functional
  tags:
  - collision-avoidance
  - mac-layer
  - csma
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:32:22.922105097Z
  comments:
  - id: b652feb2-b9ed-40b7-9f23-cd2b7bdbd417
    author: joe
    content: Implemented in crates/r4w-core/src/mesh/mac.rs - MacLayer with CsmaConfig, ChannelUtilization
    created_at: 2025-12-30T18:54:51.011265630Z
    modified_at: 2025-12-30T18:54:51.011265630Z
  history:
  - id: fcaf44b8-bbb2-40f5-b2aa-61db3d48128e
    author: CLI
    timestamp: 2025-12-30T18:54:27.738376450Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: dd84386f-df00-41a6-ad83-17ae7b0e54d3
  spec_id: MESH-006
  prefix_override: MESH
  title: Meshtastic MAC Layer - Packet Framing
  description: 'Implement Meshtastic packet structure: Header (4 bytes: destination, sender, packet ID, flags), Payload (up to 237 bytes for standard, 233 for encrypted), optional MIC for authentication. Support both encrypted (AES-128/AES-256) and plaintext modes.'
  status: Completed
  priority: High
  owner: joe
  feature: 6-Mesh Networking
  created_at: 2025-12-30T18:32:32.262592482Z
  modified_at: 2025-12-30T18:54:51.015773789Z
  req_type: Functional
  tags:
  - framing
  - mac-layer
  - packet
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:32:32.262611105Z
  comments:
  - id: 36e4e222-e96c-4135-a782-dde50f5c52f6
    author: joe
    content: Implemented in crates/r4w-core/src/mesh/packet.rs - MeshPacket, PacketHeader, PacketFlags
    created_at: 2025-12-30T18:54:51.015769677Z
    modified_at: 2025-12-30T18:54:51.015769677Z
  history:
  - id: 3ac5e4c2-cfe4-4a85-97c2-933870b6591d
    author: CLI
    timestamp: 2025-12-30T18:54:27.743706244Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 399daf87-07fe-4cfb-be9d-67f44be67b4a
  spec_id: MESH-007
  prefix_override: MESH
  title: Meshtastic MAC Layer - Channel Utilization Tracking
  description: 'Track channel utilization percentage over time. Use this metric to: 1) Adjust contention window size, 2) Report channel congestion to mesh routing layer, 3) Implement airtime fairness. Target maximum 10% duty cycle per node to maintain network scalability.'
  status: Completed
  priority: Medium
  owner: joe
  feature: 7-Mesh Networking
  created_at: 2025-12-30T18:32:49.606873192Z
  modified_at: 2025-12-30T18:54:27.749015544Z
  req_type: Functional
  tags:
  - fairness
  - mac-layer
  - utilization
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:32:49.606889163Z
  history:
  - id: 0f034a1c-e30d-4145-8859-dd451d0e71dc
    author: CLI
    timestamp: 2025-12-30T18:54:27.749015292Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 9f6da67e-dfc1-4027-9e0a-4b279078bf5c
  spec_id: MESH-008
  prefix_override: MESH
  title: Meshtastic Mesh - Managed Flood Routing for Broadcasts
  description: 'Implement managed flood routing for broadcast messages: 1) Receive packet with HopLimit > 0, 2) Decrement HopLimit, 3) Wait random time based on SNR (low SNR = smaller wait, so distant nodes flood first), 4) Listen for rebroadcasts during wait, 5) If heard rebroadcast, cancel own rebroadcast, 6) Otherwise rebroadcast. Default HopLimit=3.'
  status: Completed
  priority: High
  owner: joe
  feature: 8-Mesh Networking
  created_at: 2025-12-30T18:33:06.873322244Z
  modified_at: 2025-12-30T18:54:51.020338923Z
  req_type: Functional
  tags:
  - flood
  - routing
  - broadcast
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:33:06.873334410Z
  comments:
  - id: 50181d91-a737-4886-a1a8-f413a4c1140b
    author: joe
    content: Implemented in crates/r4w-core/src/mesh/routing.rs - FloodRouter with SNR-based rebroadcast delay
    created_at: 2025-12-30T18:54:51.020334416Z
    modified_at: 2025-12-30T18:54:51.020334416Z
  history:
  - id: ad009f32-8a24-441f-b82f-6d07164a5ab8
    author: CLI
    timestamp: 2025-12-30T18:54:27.754569594Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: c6e89949-d6fd-4e27-abea-45eb7a0dfdef
  spec_id: MESH-009
  prefix_override: MESH
  title: Meshtastic Mesh - Next-Hop Routing for Direct Messages
  description: 'Implement next-hop routing for direct (unicast) messages: 1) Maintain routing table of known nodes and their next-hop, 2) For direct messages, use cached route if available, 3) If no route known, fall back to flood routing with want_ack flag, 4) Learn routes from overheard traffic and acknowledgments.'
  status: Completed
  priority: High
  owner: joe
  feature: 9-Mesh Networking
  created_at: 2025-12-30T18:33:19.542829394Z
  modified_at: 2025-12-30T18:54:51.024770069Z
  req_type: Functional
  tags:
  - unicast
  - next-hop
  - routing
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:33:19.542849266Z
  comments:
  - id: 7882997b-c703-4039-86f9-9bdddf1ae5f1
    author: joe
    content: Implemented in crates/r4w-core/src/mesh/routing.rs - NextHopRouter with RoutingTable
    created_at: 2025-12-30T18:54:51.024766312Z
    modified_at: 2025-12-30T18:54:51.024766312Z
  history:
  - id: 5d00d3e1-4087-4b95-8de1-999dc0c5ed41
    author: CLI
    timestamp: 2025-12-30T18:54:27.759881342Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: 10da5b7c-e7f5-45e0-bf19-4fe92ff136c7
  spec_id: MESH-010
  prefix_override: MESH
  title: Meshtastic Mesh - Duplicate Packet Detection
  description: 'Detect and discard duplicate packets to prevent routing loops and redundant processing: 1) Maintain packet ID cache (sender_id + packet_id pairs), 2) Cache entries expire after 5 minutes, 3) Reject packets with IDs already in cache, 4) Support configurable cache size (default 256 entries).'
  status: Completed
  priority: High
  owner: joe
  feature: 10-Mesh Networking
  created_at: 2025-12-30T18:33:29.192195503Z
  modified_at: 2025-12-30T18:54:27.765255591Z
  req_type: Functional
  tags:
  - routing
  - cache
  - deduplication
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:33:29.192217625Z
  history:
  - id: fb7c7f89-4cf8-47b4-94d8-e0b93ec4c4b2
    author: CLI
    timestamp: 2025-12-30T18:54:27.765255315Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: fe5d7438-7473-4548-b45d-51063b6fddf5
  spec_id: MESH-011
  prefix_override: MESH
  title: Meshtastic Mesh - Node Discovery and Neighbor Table
  description: 'Maintain a neighbor table of discovered nodes: 1) Track node ID, last seen time, SNR, hop count, 2) Update table on received packets, 3) Age out nodes not seen in 2 hours, 4) Support NodeInfo exchange packets containing device metadata (hardware model, firmware version, user-set name).'
  status: Completed
  priority: High
  owner: joe
  feature: 11-Mesh Networking
  created_at: 2025-12-30T18:33:39.516228052Z
  modified_at: 2025-12-30T18:54:27.770472367Z
  req_type: Functional
  tags:
  - routing
  - neighbor
  - discovery
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:33:39.516245732Z
  history:
  - id: ca95ea65-e3b1-4eea-be2f-1b1df019fc5e
    author: CLI
    timestamp: 2025-12-30T18:54:27.770472101Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: d7d07440-c7f9-44e7-853a-85481c6a67c3
  spec_id: MESH-012
  prefix_override: MESH
  title: Meshtastic Interop - Protocol Buffer Message Format
  description: 'Implement Meshtastic protobuf message format for full interoperability: 1) Use official Meshtastic .proto definitions, 2) Support core message types: Position, Text, NodeInfo, Routing, Telemetry, 3) Support channel/app layer messages, 4) Generate Rust bindings using prost or protobuf crate.'
  status: Draft
  priority: High
  owner: joe
  feature: 12-Mesh Networking
  created_at: 2025-12-30T18:33:56.924811543Z
  modified_at: 2025-12-30T18:33:56.924811543Z
  req_type: Functional
  tags:
  - interop
  - messages
  - protobuf
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:33:56.924828245Z
- id: 807ec542-d636-4cc1-b59d-2634ab7f472e
  spec_id: MESH-013
  prefix_override: MESH
  title: Meshtastic Interop - AES Encryption Compatibility
  description: 'Implement Meshtastic-compatible encryption: 1) AES-128-CTR or AES-256-CTR encryption, 2) Key derived from channel PSK using standard Meshtastic derivation, 3) Nonce = packet_id + sender_id, 4) Support default channel key for public mesh, 5) Support custom PSK channels for private groups.'
  status: Draft
  priority: High
  owner: joe
  feature: 13-Mesh Networking
  created_at: 2025-12-30T18:34:06.606337548Z
  modified_at: 2025-12-30T18:34:06.606337548Z
  req_type: Functional
  tags:
  - aes
  - interop
  - encryption
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:34:06.606354462Z
- id: c8388dbd-6702-4597-8ea7-e11f05a0711d
  spec_id: MESH-014
  prefix_override: MESH
  title: Meshtastic Interop - Channel Configuration
  description: 'Support Meshtastic channel configuration: 1) Primary channel + up to 7 secondary channels, 2) Channel settings: name, PSK, uplink/downlink enabled, 3) Modem presets: LongFast, LongSlow, LongModerate, MediumFast, MediumSlow, ShortFast, ShortSlow, 4) Each preset maps to specific SF/BW/CR combination.'
  status: Draft
  priority: Medium
  owner: joe
  feature: 14-Mesh Networking
  created_at: 2025-12-30T18:34:16.397667432Z
  modified_at: 2025-12-30T18:34:16.397667432Z
  req_type: Functional
  tags:
  - interop
  - config
  - channel
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:34:16.397684785Z
- id: eb3c91c3-5370-4ff7-b0be-3da7b2d0befa
  spec_id: MESH-015
  prefix_override: MESH
  title: Meshtastic App - Text Messaging
  description: 'Implement text message send/receive: 1) Support broadcast messages to all nodes, 2) Support direct messages to specific node ID, 3) Message acknowledgment for direct messages, 4) Store-and-forward for offline nodes (optional), 5) Maximum message size 228 bytes UTF-8.'
  status: Draft
  priority: High
  owner: joe
  feature: 15-Mesh Networking
  created_at: 2025-12-30T18:34:30.970516731Z
  modified_at: 2025-12-30T18:34:30.970516731Z
  req_type: Functional
  tags:
  - messaging
  - text
  - app
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:34:30.970534128Z
- id: 203557d6-a6f0-42e2-a749-c9deb9610110
  spec_id: MESH-016
  prefix_override: MESH
  title: Meshtastic App - Position Sharing
  description: 'Implement GPS position sharing: 1) Broadcast local GPS position at configurable interval (default 15 min), 2) Store received positions in node database, 3) Support position precision reduction for privacy, 4) Include altitude, speed, heading when available, 5) Smart position updates (only send on significant movement).'
  status: Draft
  priority: Medium
  owner: joe
  feature: 16-Mesh Networking
  created_at: 2025-12-30T18:34:41.008292847Z
  modified_at: 2025-12-30T18:34:41.008292847Z
  req_type: Functional
  tags:
  - position
  - gps
  - app
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:34:41.008314263Z
- id: dd56a184-0d96-447d-a5b1-a0270f60e8cf
  spec_id: MESH-017
  prefix_override: MESH
  title: Meshtastic Integration - R4W MeshNetwork Trait
  description: 'Design generic MeshNetwork trait that Meshtastic implements, enabling future mesh protocols: 1) MeshNetwork trait with discover_neighbors(), route(), forward() methods, 2) MeshPhy trait extending Waveform with channel_busy(), rssi(), snr() methods, 3) Meshtastic as first implementation, 4) Trait design should support future Link-16, ALE mesh implementations.'
  status: Completed
  priority: High
  owner: joe
  feature: 17-Mesh Networking
  created_at: 2025-12-30T18:34:53.292225704Z
  modified_at: 2025-12-30T18:54:51.029265252Z
  req_type: Functional
  tags:
  - integration
  - trait
  - architecture
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:34:53.292250101Z
  comments:
  - id: 984513dd-9d80-4879-a825-961b6989a89b
    author: joe
    content: Implemented in crates/r4w-core/src/mesh/traits.rs - MeshNetwork and MeshPhy traits
    created_at: 2025-12-30T18:54:51.029261556Z
    modified_at: 2025-12-30T18:54:51.029261556Z
  history:
  - id: 8b8a4075-1c47-4eb5-a257-8819151b5f7d
    author: CLI
    timestamp: 2025-12-30T18:54:27.775974754Z
    changes:
    - field_name: status
      old_value: Draft
      new_value: Completed
- id: b6bfb83d-6440-4280-8a5a-0c14cd6b0192
  spec_id: MESH-018
  prefix_override: MESH
  title: Meshtastic Hardware - SX126x Radio Support
  description: 'Support Semtech SX1262/SX1268 LoRa transceivers commonly used in Meshtastic devices: 1) SPI interface for register access, 2) CAD mode for channel activity detection, 3) Packet mode with hardware CRC, 4) RSSI/SNR readback, 5) Support via embedded-hal traits for portability. Target devices: Heltec V3, LILYGO T-Beam, RAK WisBlock.'
  status: Draft
  priority: Medium
  owner: joe
  feature: 18-Mesh Networking
  created_at: 2025-12-30T18:35:04.632283047Z
  modified_at: 2025-12-30T18:35:04.632283047Z
  req_type: Functional
  tags:
  - sx126x
  - hardware
  - radio
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:35:04.632300526Z
- id: c93364e4-32e7-487e-b60c-960bd91a06d3
  spec_id: MESH-019
  prefix_override: MESH
  title: Meshtastic Testing - Multi-Node Simulation
  description: 'Enable testing mesh routing without physical hardware: 1) Simulate multiple Meshtastic nodes in software, 2) Configurable node topology and link quality, 3) Packet loss and delay injection, 4) Visualization of routing decisions, 5) Integration with r4w-sim channel models (AWGN, Rayleigh fading).'
  status: Draft
  priority: Medium
  owner: joe
  feature: 19-Mesh Networking
  created_at: 2025-12-30T18:35:14.680235464Z
  modified_at: 2025-12-30T18:35:14.680235464Z
  req_type: Functional
  tags:
  - testing
  - simulation
  - multi-node
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:35:14.680255021Z
- id: 5387d63d-e3db-4a37-9969-d71bfb4c2bb7
  spec_id: MESH-020
  prefix_override: MESH
  title: Meshtastic NFR - Low Power Operation
  description: 'Support battery-powered operation: 1) Radio sleep between receive windows, 2) Configurable receive duty cycle (100%, 50%, 20%), 3) Target <50mA average current at 100% duty cycle, <10mA at 20%, 4) Wake-on-preamble using SX126x CAD, 5) Scheduled transmit windows to allow coordinated sleep.'
  status: Draft
  priority: Medium
  owner: joe
  feature: 20-Mesh Networking
  created_at: 2025-12-30T18:35:26.159312602Z
  modified_at: 2025-12-30T18:35:26.159312602Z
  req_type: NonFunctional
  tags:
  - power
  - battery
  - nfr
  relationships:
  - rel_type: Parent
    target_id: 00a8d98b-da52-4c20-8d69-f1f90facbfc3
    created_at: 2025-12-30T18:35:26.159332074Z
- id: a068139f-ae8f-43b8-a578-96ea057da46a
  spec_id: FR-021
  title: CLI Shell Completions
  description: Shell completion scripts for bash, zsh, fish, and powershell. Generated via clap_complete. Enables tab-completion for all r4w CLI commands and arguments.
  status: Completed
  priority: Medium
  owner: joe
  feature: 21-Uncategorized
  created_at: 2025-12-31T04:00:22.783969284Z
  modified_at: 2025-12-31T04:00:34.043767158Z
  req_type: Functional
  comments:
  - id: 01d645c8-4bac-4525-8808-17805fb0770a
    author: joe
    content: 'Implemented in crates/r4w-cli/src/main.rs. Uses clap_complete crate. Command: r4w completions <shell>'
    created_at: 2025-12-31T04:00:34.043762762Z
    modified_at: 2025-12-31T04:00:34.043762762Z
- id: ddee54af-9cf3-4a5b-8907-f86dd3da3a6a
  spec_id: FR-022
  title: Waveform BER Comparison Command
  description: 'CLI command ''r4w compare'' to analyze BER vs SNR performance across multiple waveforms. Supports BPSK, QPSK, 8PSK, 16QAM, 64QAM, BFSK, 4FSK, OOK, ASK, 4ASK. Output formats: text table, JSON, CSV. Configurable SNR range and test parameters.'
  status: Completed
  priority: Medium
  owner: joe
  feature: 22-Uncategorized
  created_at: 2025-12-31T04:00:23.983643989Z
  modified_at: 2025-12-31T04:00:35.035421937Z
  req_type: Functional
  comments:
  - id: 5d1c546a-0c25-47e4-8af0-01e41ccf20b7
    author: joe
    content: Implemented in crates/r4w-cli/src/main.rs cmd_compare(). Uses AWGN channel model from r4w-sim for noise injection.
    created_at: 2025-12-31T04:00:35.035417564Z
    modified_at: 2025-12-31T04:00:35.035417564Z
- id: 382ecbfc-0d43-4a42-96f4-6777f78340d4
  spec_id: FR-023
  title: GitHub Actions CI/CD Pipeline
  description: 'Automated CI/CD with GitHub Actions: (1) ci.yml - test suite, clippy linting, formatting checks, cross-platform builds (Linux/macOS/Windows), WASM builds; (2) benchmarks.yml - performance regression tracking with automatic PR comments and alerts on significant regression (>130%).'
  status: Completed
  priority: High
  owner: joe
  feature: 23-Uncategorized
  created_at: 2025-12-31T04:00:24.142231494Z
  modified_at: 2025-12-31T04:00:36.033962363Z
  req_type: Functional
  comments:
  - id: 8d43f0a0-1be2-4a53-96d4-480454e7cdcf
    author: joe
    content: Workflows in .github/workflows/ci.yml and benchmarks.yml. Uses github-action-benchmark for performance tracking.
    created_at: 2025-12-31T04:00:36.033953536Z
    modified_at: 2025-12-31T04:00:36.033953536Z
id_config:
  format: SingleLevel
  numbering: Global
  digits: 3
  requirement_types:
  - name: Functional
    prefix: FR
    description: Functional requirements
  - name: Non-Functional
    prefix: NFR
    description: Non-functional requirements (performance, security, etc.)
  - name: System
    prefix: SR
    description: System-level requirements
  - name: User
    prefix: UR
    description: User story requirements
  - name: Change Request
    prefix: CR
    description: Change requests for modifications to existing functionality
  - name: Bug
    prefix: BUG
    description: Bug reports and defects
  - name: Epic
    prefix: EPIC
    description: Large features spanning multiple stories
  - name: Story
    prefix: STORY
    description: User stories for agile development
  - name: Task
    prefix: TASK
    description: Individual work items
  - name: Spike
    prefix: SPIKE
    description: Research and investigation tasks
  - name: Sprint
    prefix: SPRINT
    description: Sprint planning containers
  - name: Folder
    prefix: FOLDER
    description: Organizational folders
  - name: Meta
    prefix: META
    description: Database configuration and templates
features: []
next_feature_number: 24
next_spec_number: 24
prefix_counters: {}
relationship_definitions:
- name: parent
  display_name: Parent
  description: Hierarchical parent requirement
  inverse: child
  symmetric: false
  cardinality: OneToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: child
  display_name: Child
  description: Hierarchical child requirement
  inverse: parent
  symmetric: false
  cardinality: ManyToOne
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: verifies
  display_name: Verifies
  description: Test or verification relationship
  inverse: verified_by
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: verified_by
  display_name: Verified By
  description: Verified by a test requirement
  inverse: verifies
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: duplicate
  display_name: Duplicate
  description: Marks requirements as duplicates
  inverse: null
  symmetric: true
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: references
  display_name: References
  description: General reference link
  inverse: null
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: depends_on
  display_name: Depends On
  description: Dependency relationship
  inverse: dependency_of
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: dependency_of
  display_name: Dependency Of
  description: Inverse dependency relationship
  inverse: depends_on
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: implements
  display_name: Implements
  description: Implementation relationship
  inverse: implemented_by
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: implemented_by
  display_name: Implemented By
  description: Inverse implementation relationship
  inverse: implements
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: null
  icon: null
- name: created_by
  display_name: Created By
  description: User who created the requirement
  inverse: null
  symmetric: false
  cardinality: ManyToOne
  source_types: []
  target_types: []
  built_in: true
  color: '#4a9eff'
  icon: null
- name: assigned_to
  display_name: Assigned To
  description: User assigned to work on this requirement
  inverse: null
  symmetric: false
  cardinality: ManyToOne
  source_types: []
  target_types: []
  built_in: true
  color: '#22c55e'
  icon: null
- name: tested_by
  display_name: Tested By
  description: User who tested/verified the requirement
  inverse: null
  symmetric: false
  cardinality: ManyToMany
  source_types: []
  target_types: []
  built_in: true
  color: '#f59e0b'
  icon: null
- name: closed_by
  display_name: Closed By
  description: User who closed/completed the requirement
  inverse: null
  symmetric: false
  cardinality: ManyToOne
  source_types: []
  target_types: []
  built_in: true
  color: '#ef4444'
  icon: null
- name: sprint_assignment
  display_name: Assigned to Sprint
  description: Assigns a requirement to a Sprint for work planning
  inverse: sprint_contains
  symmetric: false
  cardinality: ManyToOne
  source_types: []
  target_types:
  - Sprint
  built_in: true
  color: '#7c3aed'
  icon: null
- name: sprint_contains
  display_name: Sprint Contains
  description: Items assigned to this Sprint
  inverse: sprint_assignment
  symmetric: false
  cardinality: OneToMany
  source_types:
  - Sprint
  target_types: []
  built_in: true
  color: '#7c3aed'
  icon: null
reaction_definitions:
- name: resolved
  emoji: ‚úÖ
  label: Resolved
  description: Mark comment as resolved/addressed
  built_in: true
- name: rejected
  emoji: ‚ùå
  label: Rejected
  description: Mark comment as rejected/declined
  built_in: true
- name: thumbs_up
  emoji: üëç
  label: Thumbs Up
  description: Agree or approve
  built_in: true
- name: thumbs_down
  emoji: üëé
  label: Thumbs Down
  description: Disagree or disapprove
  built_in: true
- name: question
  emoji: ‚ùì
  label: Question
  description: Needs clarification
  built_in: true
- name: important
  emoji: ‚ö†Ô∏è
  label: Important
  description: Mark as important/attention needed
  built_in: true
meta_counters: {}
type_definitions:
- name: Functional
  display_name: Functional
  description: Functional requirements describing system behavior
  prefix: FR
  built_in: true
  stateless: false
- name: NonFunctional
  display_name: Non-Functional
  description: Non-functional requirements (performance, security, etc.)
  prefix: NFR
  built_in: true
  stateless: false
- name: System
  display_name: System
  description: System-level requirements
  prefix: SYS
  built_in: true
  stateless: false
- name: User
  display_name: User Story
  description: User stories and user requirements
  prefix: US
  built_in: true
  stateless: false
- name: ChangeRequest
  display_name: Change Request
  description: Change requests for existing functionality
  prefix: CR
  statuses:
  - Draft
  - Submitted
  - Under Review
  - Approved
  - Rejected
  - In Progress
  - Implemented
  - Verified
  - Closed
  custom_fields:
  - name: impact
    label: Impact Level
    field_type: select
    required: false
    options:
    - Low
    - Medium
    - High
    - Critical
    description: Impact of this change on the system
    order: 1
  - name: requested_by
    label: Requested By
    field_type: user
    required: false
    description: User who requested this change
    order: 2
  - name: target_release
    label: Target Release
    field_type: text
    required: false
    description: Target release version for this change
    order: 3
  - name: justification
    label: Justification
    field_type: text
    required: true
    description: Business justification for the change
    order: 4
  built_in: true
  color: '#9333ea'
  stateless: false
- name: Bug
  display_name: Bug
  description: Bug reports and defects
  prefix: BUG
  statuses:
  - New
  - Confirmed
  - In Progress
  - Fixed
  - Verified
  - Closed
  - Won't Fix
  custom_fields:
  - name: severity
    label: Severity
    field_type: select
    required: false
    options:
    - Critical
    - Major
    - Minor
    - Trivial
    description: Severity of the bug
    order: 1
  - name: steps_to_reproduce
    label: Steps to Reproduce
    field_type: text
    required: false
    description: Steps to reproduce the bug
    order: 2
  - name: expected_behavior
    label: Expected Behavior
    field_type: text
    required: false
    description: What should happen
    order: 3
  - name: actual_behavior
    label: Actual Behavior
    field_type: text
    required: false
    description: What actually happens
    order: 4
  built_in: true
  color: '#dc2626'
  stateless: false
- name: Epic
  display_name: Epic
  description: Large feature or initiative spanning multiple stories
  prefix: EPIC
  statuses:
  - Draft
  - Ready
  - In Progress
  - Done
  custom_fields:
  - name: business_value
    label: Business Value
    field_type: text
    required: false
    description: Business value or benefit of this epic
    order: 1
  - name: target_release
    label: Target Release
    field_type: text
    required: false
    description: Target release or milestone
    order: 2
  - name: story_points
    label: Story Points
    field_type: number
    required: false
    description: Estimated story points
    order: 3
  built_in: true
  color: '#7c3aed'
  stateless: false
- name: Story
  display_name: Story
  description: User story for agile development
  prefix: STORY
  statuses:
  - Draft
  - Ready
  - In Progress
  - In Review
  - Done
  custom_fields:
  - name: acceptance_criteria
    label: Acceptance Criteria
    field_type: textarea
    required: false
    description: Criteria that must be met for the story to be complete
    order: 1
  - name: story_points
    label: Story Points
    field_type: number
    required: false
    description: Estimated story points
    order: 2
  - name: assignee
    label: Assignee
    field_type: user
    required: false
    description: Person assigned to this story
    order: 3
  built_in: true
  color: '#10b981'
  stateless: false
- name: Task
  display_name: Task
  description: Implementation task or work item
  prefix: TASK
  statuses:
  - To Do
  - In Progress
  - In Review
  - Done
  custom_fields:
  - name: estimate_hours
    label: Estimate (hours)
    field_type: number
    required: false
    description: Estimated hours to complete
    order: 1
  - name: assignee
    label: Assignee
    field_type: user
    required: false
    description: Person assigned to this task
    order: 2
  built_in: true
  color: '#0891b2'
  stateless: false
- name: Spike
  display_name: Spike
  description: Research or investigation task with time-boxed exploration
  prefix: SPIKE
  statuses:
  - Planned
  - In Progress
  - Completed
  custom_fields:
  - name: research_question
    label: Research Question
    field_type: text
    required: true
    description: The question or problem to investigate
    order: 1
  - name: time_box
    label: Time Box
    field_type: text
    required: false
    description: Time allocated for investigation (e.g., '2 days')
    order: 2
  - name: findings
    label: Findings
    field_type: textarea
    required: false
    description: Results and conclusions from the investigation
    order: 3
  - name: recommendation
    label: Recommendation
    field_type: text
    required: false
    description: Recommended next steps based on findings
    order: 4
  built_in: true
  color: '#ca8a04'
  stateless: false
- name: Sprint
  display_name: Sprint
  description: Time-boxed iteration for work planning
  prefix: SPRINT
  statuses:
  - Draft
  - In Progress
  - Completed
  - Archived
  custom_fields:
  - name: sprint_number
    label: Sprint Number
    field_type: number
    required: false
    description: Sequential sprint number
    order: 1
  - name: start_date
    label: Start Date
    field_type: text
    required: false
    description: Sprint start date (YYYY-MM-DD)
    order: 2
  - name: end_date
    label: End Date
    field_type: text
    required: false
    description: Sprint end date (YYYY-MM-DD)
    order: 3
  - name: sprint_goal
    label: Sprint Goal
    field_type: text
    required: false
    description: Goal or theme for this sprint
    order: 4
  - name: velocity
    label: Planned Velocity
    field_type: number
    required: false
    description: Planned story points for this sprint
    order: 5
  built_in: true
  color: '#7c3aed'
  stateless: false
- name: Folder
  display_name: Folder
  description: Organizational container for grouping related requirements
  prefix: FLD
  built_in: true
  color: '#6b7280'
  stateless: true
- name: Meta
  display_name: Meta
  description: Database configuration, prompts, skills, and templates
  prefix: META
  built_in: true
  color: '#8b5cf6'
  stateless: true
allowed_prefixes: []
restrict_prefixes: false
